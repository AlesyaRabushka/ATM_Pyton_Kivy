
<WelcomeScreen>
    BoxLayout:
        orientation: "vertical"
        adaptive_size: True
#        Label:
#            iid: label
#            text: '[color=#FF9977]Выберите карточку[/color]'
#            markup: True
#            font_size: 20
#            size_hint: None, None
#            height:250
#            width:250
#            pos_hint: {"center_x": .5}

    GridLayout:
        cols: 1
        rows:4
        padding: 250, 30, 250, 50
        spacing: 20

        Label:
            id: label
            text: '[color=#3E769B]                   Для начала работы \n                   выберите карточку[/color]'
            markup: True
            font_size: 30
            size_hint: None, None
            height:170
            width:170
            pos_hint: {"center_x": .5}


        Button:
            text: 'Alesya Rabushka'
            background_color:'#74B0D8'
            background_normal:''
            size_hint: 1, 0.3
            pos_hint: {"center_x": .5,"center_y":.5}
            on_press: root.choose_card(1)
            on_release: app.root.change_screen('pin_screen')


        Button:
            text: 'Alena Sklema'
            background_color:'#74B0D8'
            background_normal:''
            size_hint: 1, 0.3
            pos_hint: {"center_x": .5,"center_y":.5}
            on_press: root.choose_card(3)
            on_release: app.root.change_screen('pin_screen')
            on_release: app.root.change_screen('pin_screen')

        Button:
            text: 'Aleksey Smelov'
            text: 'Aleksey Smelov'
            background_color:'#74B0D8'
            background_normal:''
            size_hint: 1, 0.3
            pos_hint: {"center_x": .5,"center_y":.5}
            on_press: root.choose_card(2)
            on_release: app.root.change_screen('pin_screen')
            on_release: app.root.change_screen('pin_screen')




<PinScreen>
    BoxLayout:
        orientation: "vertical"
        adaptive_size: True
        canvas.before:
            Color:
                rgb: (1,1,1)
            Rectangle:
                pos: self.pos
                size: self.size

    GridLayout:
        cols:1
        rows:3
        padding:300,200,300,200
        spacing:40

        Label:
            id: pin_label
            font_size: 20
            text: '[color=#3E769B]Введите пин-код[/color]'
            markup: True

        PinInput:
            id: pin_input
            halign: 'center'
            hint_text: 'ПИН-КОД'
            size_hint:None,None
            size:(200,30)
            on_text: root.set_pin(self.text)
            input_filter: 'int'

        Button:
            text: 'ВВОД'
            size_hint:None,None
            size:(200,50)
            background_color:'#74B0D8'
            background_normal:''
            on_press: if root.check_pin() == 1: root.change_screen('menu_screen')
            on_release: if root.not_correct == True: root.change_screen('warning_screen')
#            on_press: if root.check_pin() == 1: app.root.change_screen('menu_screen')
#            on_release: if root.not_correct == True: app.root.change_screen('warning_screen')




<MenuScreen>
    BoxLayout:
        orientation: "vertical"
        adaptive_size: True
    GridLayout:
        cols:1
        padding:300,10,300,500

        Label:
            id: pin_label
            font_size: 20
            background_color:'#74B0D8'
            background_normal:''
            text: '[color=#3E769B]Выберите операцию[/color]'
            markup: True
    GridLayout:
        cols:2
        rows:4
        padding:90,90,200,120
        spacing:30
        Button:
            text: 'Информация о \n      балансе'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('balance_screen')

        Button:
            text: 'Снять наличные'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('money_out_choice_screen')
        Button:
            text: 'Пополнить баланс'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('money_in_screen')
        Button:
            text: 'Изменить ПИН-КОД'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('pin_screen')
            on_release: root.pin_screen.set_change_pin()
        Button:
            text: 'Оплатить мобильную \n              связь'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('telephone_payment')
        Button:
            text: 'Транзакция в USD'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('byn_to_usd')
        Button:
            text: 'Транзакция в BYN'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('usd_to_byn')
        Button:
            text: 'Завершить сеанс'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(300,100)
            on_press: app.root.change_screen('exit_screen')

<MoneyOutChoiceScreen>
    BoxLayout:
        orientation: 'vertical'
        adaptive_size: True

    GridLayout:
        cols:1
        padding:300,70,300,600

        Label:
            id: money_out_label
            text:'[color=#3E769B]Выберите сумму выдачи[/color]'
            markup: True
            font_size: 30

    GridLayout:
        cols:2
        rows:3
        padding:190,160,300,100
        spacing:30
        Button:
            text: '5'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.set_money(5)
            #on_release: app.root.change_screen('check_choice_screen')
            on_release: if root.money_out() == True: app.root.change_screen('check_choice_screen')

        Button:
            text: '10'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.set_money(10)
            on_release: if root.money_out() == True: app.root.change_screen('check_choice_screen')
#            on_release: root.money_out()

        Button:
            text: '20'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.set_money(20)
            on_release: if root.money_out() == True: app.root.change_screen('check_choice_screen')
#            on_release: root.money_out()

        Button:
            text: '50'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.set_money(50)
            on_release: if root.money_out() == True: app.root.change_screen('check_choice_screen')
#            on_release: root.money_out()

        Button:
            text: '100'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.set_money(100)
            on_release: if root.money_out() == True: app.root.change_screen('check_choice_screen')
#            on_release: root.money_out()

        Button:
            text: 'Другая сумма'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('money_out_screen')
    GridLayout:
        cols:1
        rows:1
        padding:305,470,250,50
        spacing:30
        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')


<BalanceScreen>
    BoxLayout:
        orientation: 'vertical'
        adaptive_size: True
    GridLayout:
        cols:1
        padding:300,170,300,600

        Label:
            id: money_out_label
            text:'[color=#3E769B]Информация о балансе[/color]'
            markup: True
            font_size: 25

    GridLayout:
        cols:2
        rows:1
        padding:240,230,400,250
        spacing:20
        Label:
            text:'[color=#3E769B]BYN    [/color]'
            font_size: 20
            markup: True

        Label:
            text:'[color=#3E769B]                                      USD[/color]'
            font_size: 20
            markup: True

    GridLayout:
        cols:2
        rows:1
        padding:240,230,200,250
        spacing:30
        Label:
            text:'[color=#3E769B]BYN[/color]'
            id: balance_byn_label
            font_size: 20
            markup: True

        Label:
            text:'[color=#3E769B]$[/color]'
            id: balance_usd_label
            font_size: 20
            markup: True
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,50
        spacing:30
        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')

        Button:
            text:'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')




<MoneyOutScreen>
    BoxLayout:
        orientation: 'vertical'
        adaptive_size: True
    GridLayout:
        cols:1
        padding:270,140,400,600
        spacing:110
        Label:
            id: money_out_label
            text: '[color=#3E769B]Введите сумму выдачи[/color]'
            markup: True
            font_size: 25

        TextInput:
            id: money_out_input
            halign: 'center'
            hint_text: 'money'
            size_hint:None,None
            size:(250,60)
            on_text: root.set_money(self.text)
            input_filter: 'int'
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,50
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')

        Button:
            text: 'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            #on_press: root.money_out()
            on_release: if root.money_out() == True and root.death == False and root.correct == True: app.root.change_screen('check_choice_screen')




<MoneyInScreen>
    BoxLayout:
        orientation:'vertical'

    GridLayout:
        cols:1
        padding:270,140,400,600
        spacing:110
        Label:
            id: money_in_label
            text: '[color=#3E769B]Введите сумму[/color]'
            markup: True
            font_size: 25


        TextInput:
            id: money_in_input
            halign: 'center'
            hint_text: 'money'
            size_hint:None,None
            size:(250,60)
            on_text: root.set_money(self.text)
            input_filter: 'int'
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,50
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')
        Button:
            text: 'Ввод'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            #on_press: root.money_in()
            on_release: if root.money_in() == True and root.death == False and root.correct == True: app.root.change_screen('check_choice_screen')




<TelephonePaymentScreen>
    number:number
    money:money
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:270,140,400,600
        spacing:60
        Label:
            id: check_label
            markup: True
            text: '[color=#3E769B]Введите номер и сумму[/color]'
            font_size: 25


        PhoneInput:
            halign: 'center'
            id: number
            multiline:False
            pos_hint:{'center_y':.5}
            size_hint:None,None
            size:(250,60)
#            input_filter: 'int'
            text: '+375 '


        TextInput:
            id: money
            halign: 'center'
            valign: 'center'
            size_hint:None,None
            size:(250,60)
            hint_text: 'Введите сумму'
            multiline:False
            input_filter: 'int'

    GridLayout:
        cols:2
        rows:1
        padding:190,420,200,50
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')

        Button:
            text: 'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.phone_payment()
            on_release: if root.death == False: app.root.change_screen('check_choice_screen')


<BYNtoUSD>
    money:money
    BoxLayout:
        orientation: 'vertical'

    GridLayout:
        cols:1
        padding:270,140,400,600
        spacing:110
        Label:
            id: money_out_label
            text: '[color=#3E769B]Введите сумму перевода[/color]'
            markup: True
            font_size: 25
        TextInput:
            id: money
            halign: 'center'
            size_hint:None,None
            size:(250,60)
            multiline:False
            input_filter: 'int'
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,50
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')
        Button:
            text: 'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.from_byn_to_usd()
            on_release: if root.death == False: app.root.change_screen('check_choice_screen')



<USDtoBYN>
    money:money
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:270,140,400,600
        spacing:110
        Label:
            id: money_out_label
            text: '[color=#3E769B]Введите сумму перевода[/color]'
            markup: True
            font_size: 25
        TextInput:
            id: money
            halign: 'center'
            hint_text: 'money'
            size_hint:None,None
            size:(250,60)
            multiline:False
            input_filter: 'int'
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,50
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('menu_screen')

        Button:
            text: 'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: root.from_usd_to_byn()
            on_release: if root.death == False: app.root.change_screen('check_choice_screen')



<CheckChoiceScreen>
    BoxLayout:
        orientation:'vertical'
    GridLayout:
        cols:1
        padding:400,200,400,450
        spacing:30
        Label:
            text: '[color=#3E769B]Печать чека?[/color]'
            markup: True
            font_size: 25
    GridLayout:
        cols:2
        rows:1
        padding:190,300,200,200
        spacing:30


        Button:
            text:'Нет'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('continue_screen')
        Button:
            text: 'Да'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('check_screen')
            on_release: root.check()



<CheckScreen>
    BoxLayout:
        orientation:'vertical'
    GridLayout:
        cols:1
        padding:300,250,400,200
        spacing:140
        Label:
            id: check_label
            markup: True
            font_size: 25

        Button:
            text:'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('continue_screen')


<ChangePinScreen>
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:300,200,300,400
        spacing:100
        Label:
            id: change_pin_label
            text: '[color=#3E769B]Введите новый пин-код[/color]'
            markup: True
            font_size: 20

        PinInput:
            id: pin_input
            halign: 'center'
            hint_text: 'ПИН-КОД'
            size_hint:None,None
            size:(200,30)
            multiline:False
            on_text: root.set_pin(self.text)
            input_filter: 'int'
    GridLayout:
        cols:2
        rows:1
        padding:190,400,200,100
        spacing:30

        Button:
            text: 'Отмена'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,50)
            on_press: app.root.change_screen('menu_screen')

        Button:
            text: 'ВВОД'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,50)
            on_press: if root.change_pin() == True: app.root.change_screen('check_choice_screen')
            on_release: if root.death == True: app.root.change_screen('death_screen')





<ContinueScreen>
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:400,200,400,450
        spacing:30
        Label:
            text:'[color=#3E769B]Желаете продолжить?[/color]'
            markup:  True
            font_size: 25
    GridLayout:
        cols:2
        rows:1
        padding:190,300,200,200
        spacing:30

        Button:
            text: 'Завершить сеанс'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('exit_screen')
        Button:
            text: 'Продолжить'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.root.change_screen('pin_screen')



<WarningScreen>
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:400,280,400,400
        spacing:30
        Label:
            text: '[color=#3E769B]Чтобы вернуть карточку, обратитесь в ваш банк[/color]'
            markup: True
            font_size: 25

<DeathScreen>
    GridLayout:
        cols:1
        #orientation: 'vertical'
        canvas.before:
            Color:
                rgb: (0,0,204/255)
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            pos_hint:  {'center_x': .2, 'center_y': .5}
#            pos_hint: {'center_x': .1, 'center_y': .5}
            font_size: 20
            id: death_label
            markup: True

<RestartScreen>
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgb: (0,0,204/255)
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: restart_label
            font_size: 25
            markup: True


<ExitScreen>
    BoxLayout:
        orientation: 'vertical'
    GridLayout:
        cols:1
        padding:400,230,400,450
        spacing:20
        Label:
            text: '[color=#3E769B]Заберите карточку[/color]'
            markup: True
            font_size: 25
    GridLayout:
        cols:2
        rows:1
        padding:300,300,400,200
        spacing:30
        Button:
            text: 'Выход'
            background_color:'#74B0D8'
            background_normal:''
            size_hint:None,None
            size:(200,70)
            on_press: app.get_running_app().stop()
